{% extends "base.html" %}

{% block title %}{{ trial_name }} - ESO Trial Builds | ESOBuild.com{% endblock %}

{% block meta_description %}Best {{ trial_name }} builds for Elder Scrolls Online. Common meta builds, gear sets, and abilities from top ESO Logs players. DPS, tank, and healer builds for all {{ trial_name }} boss encounters.{% endblock %}

{% block keywords %}{{ trial_name }}, ESO {{ trial_name }}, {{ trial_name }} builds, ESO trial builds, {{ trial_name }} gear sets, Elder Scrolls Online {{ trial_name }}{% endblock %}

{% block canonical_url %}{% if is_develop %}https://brainsnorkel.github.io/eso-build-o-rama/{{ trial_name.lower().replace(' ', '-') }}.html{% else %}https://esobuild.com/{{ trial_name.lower().replace(' ', '-') }}.html{% endif %}{% endblock %}

{% block og_title %}{{ trial_name }} - ESO Trial Builds{% endblock %}

{% block og_description %}Best {{ trial_name }} builds for Elder Scrolls Online. Common meta builds, gear sets, and abilities from top ESO Logs players.{% endblock %}

{% block og_image_alt %}{{ trial_name }} - Top Builds{% endblock %}

{% block twitter_title %}{{ trial_name }} - ESO Meta Builds{% endblock %}

{% block twitter_description %}Best {{ trial_name }} builds from top players. Discover effective gear sets and strategies for all boss encounters.{% endblock %}

{% block twitter_image_alt %}{{ trial_name }} - Top Builds{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{% if is_develop %}https://brainsnorkel.github.io/eso-build-o-rama/index.html{% else %}https://esobuild.com/index.html{% endif %}"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{ trial_name }}",
      "item": "{% if is_develop %}https://brainsnorkel.github.io/eso-build-o-rama/{{ trial_name.lower().replace(' ', '-') }}.html{% else %}https://esobuild.com/{{ trial_name.lower().replace(' ', '-') }}.html{% endif %}"
    }
  ]
}
</script>
{% endblock %}

{% block content %}
<nav aria-label="Breadcrumb" style="margin-bottom: 20px; font-size: 0.9em;">
    <ol style="list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; align-items: center;">
        <li style="display: flex; align-items: center;">
            <a href="index.html" style="color: #38ef7d; text-decoration: none;">Home</a>
            <span style="color: #666; margin: 0 10px;" aria-hidden="true">/</span>
        </li>
        <li>
            <span style="color: #a8edea;" aria-current="page">{{ trial_name }}</span>
        </li>
    </ol>
</nav>

<div class="card">
    <h2>{{ trial_name }}</h2>
    <p style="color: #a8edea; margin-top: 10px;">
        Common builds from top-performing players across all boss encounters
    </p>
</div>

{% for boss_name, builds in bosses.items() %}
<div class="card">
    <h3 style="color: #38ef7d; margin-bottom: 20px;">{{ boss_name }}</h3>
    
    {% if builds %}
    <table>
        <caption class="sr-only">Builds for {{ boss_name }}</caption>
        <thead>
            <tr>
                <th scope="col">Role</th>
                <th scope="col">Build</th>
                <th scope="col">Signature Sets</th>
                <th scope="col">Frequency</th>
                <th scope="col">DPS</th>
                <th scope="col">Player Character</th>
                <th scope="col">Details</th>
            </tr>
        </thead>
        <tbody>
            {% for build in builds %}
            <tr>
                <td data-label="Role" style="text-align: center; font-size: 1.5em;">
                    {% if build.best_player.role == 'dps' %}
                        <span aria-hidden="true">‚öîÔ∏è</span>
                        <span class="sr-only">DPS</span>
                    {% elif build.best_player.role == 'healer' %}
                        <span aria-hidden="true">‚úö</span>
                        <span class="sr-only">Healer</span>
                    {% elif build.best_player.role == 'tank' %}
                        <span aria-hidden="true">üõ°Ô∏è</span>
                        <span class="sr-only">Tank</span>
                    {% else %}
                        <span aria-hidden="true">‚ùì</span>
                        <span class="sr-only">Unknown</span>
                    {% endif %}
                </td>
                <td data-label="Build"><strong>{{ build.get_display_name(abbreviated=True) }}</strong></td>
                <td data-label="Signature Sets">
                    {% set sorted_sets = build.get_sorted_sets() %}
                    {{ sorted_sets|join(', ') if sorted_sets else 'Various' }}
                </td>
                <td data-label="Frequency">{{ build.count }} players in {{ build.report_count }} reports</td>
                <td data-label="DPS">{{ build.best_player.dps|format_dps }}</td>
                <td data-label="Player Character">{{ build.best_player.player_name }} - {{ build.best_player.character_name }}</td>
                <td data-label="Details">
                    <a href="{{ build.trial_name.lower().replace(' ', '-').replace("'", "") }}-{{ build.boss_name.lower().replace(' ', '-').replace("'", "").replace('&', 'and') }}-{{ build.build_slug }}.html" 
                       style="color: #3498db; text-decoration: none;"
                       aria-label="View details for {{ build.get_display_name(abbreviated=True) }} build">
                        View Build ‚Üí
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="color: #a8edea;">No common builds found for this boss.</p>
    {% endif %}
</div>
{% endfor %}

{% endblock %}
